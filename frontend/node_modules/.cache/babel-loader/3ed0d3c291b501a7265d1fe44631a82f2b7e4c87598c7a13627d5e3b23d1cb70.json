{"ast":null,"code":"import \"core-js/modules/esnext.iterator.map.js\";\nimport { reactive, readonly, computed } from \"vue\";\nimport { g as globalCollapseStorageInjectionKey } from \"../../../keys-CsqIkltC.mjs\";\nconst collapsePlugin = {\n  install(app) {\n    const values = reactive({});\n    const fun = ({\n      id,\n      value,\n      toggle\n    }) => {\n      values[id] = computed(() => ({\n        value: value.value,\n        toggle\n      }));\n      return {\n        unregister() {\n          delete values[id];\n        }\n      };\n    };\n    fun.map = readonly(values);\n    app.provide(globalCollapseStorageInjectionKey, fun);\n  }\n};\nexport { collapsePlugin };","map":{"version":3,"names":["collapsePlugin","install","app","values","reactive","fun","id","value","toggle","computed","unregister","map","readonly","provide","globalCollapseStorageInjectionKey"],"sources":["../../../../src/plugins/collapse/index.ts"],"sourcesContent":["import {computed, type Plugin, reactive, readonly} from 'vue'\nimport {\n  globalCollapseStorageInjectionKey,\n  type RegisterCollapseFnInput,\n  type RegisterCollapseValue,\n} from '../../utils/keys'\n\nexport const collapsePlugin: Plugin = {\n  install(app) {\n    const values: Record<string, {value: boolean; toggle: () => void}> = reactive({})\n\n    const fun = (({id, value, toggle}: RegisterCollapseFnInput) => {\n      values[id] = computed(() => ({value: value.value, toggle})) as unknown as {\n        value: boolean\n        toggle: () => void\n      }\n      return {\n        unregister() {\n          delete values[id]\n        },\n      }\n    }) as unknown as RegisterCollapseValue\n\n    fun.map = readonly(values)\n\n    app.provide(globalCollapseStorageInjectionKey, fun)\n  },\n}\n"],"mappings":";;;AAOO,MAAMA,cAAA,GAAyB;EACpCC,QAAQC,GAAA,EAAK;IACL,MAAAC,MAAA,GAA+DC,QAAA,CAAS,EAAE;IAEhF,MAAMC,GAAA,GAAOA,CAAC;MAACC,EAAA;MAAIC,KAAA;MAAOC;IAAA,MAAqC;MACtDL,MAAA,CAAAG,EAAE,IAAIG,QAAA,CAAS,OAAO;QAACF,KAAA,EAAOA,KAAA,CAAMA,KAAA;QAAOC;MAAA,EAAQ;MAInD;QACLE,WAAA,EAAa;UACX,OAAOP,MAAA,CAAOG,EAAE;QAAA;MAEpB;IACF;IAEID,GAAA,CAAAM,GAAA,GAAMC,QAAA,CAAST,MAAM;IAErBD,GAAA,CAAAW,OAAA,CAAQC,iCAAA,EAAmCT,GAAG;EAAA;AAEtD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}