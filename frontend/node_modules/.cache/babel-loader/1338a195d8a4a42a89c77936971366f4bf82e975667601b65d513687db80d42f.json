{"ast":null,"code":"import \"core-js/modules/esnext.iterator.map.js\";\nimport { computed, toValue, defineComponent, useAttrs, inject, getCurrentInstance, openBlock, createBlock, resolveDynamicComponent, mergeProps, withCtx, unref, renderSlot } from \"vue\";\nimport { u as useDefaults } from \"./useDefaults-dJMhLizZ.mjs\";\nimport { c as collapseInjectionKey, n as navbarInjectionKey } from \"./keys-CsqIkltC.mjs\";\nconst useLinkClasses = linkProps => computed(() => {\n  const props = toValue(linkProps);\n  return {\n    [`link-${props.variant}`]: props.variant !== null,\n    [`link-opacity-${props.opacity}`]: props.opacity !== void 0,\n    [`link-opacity-${props.opacityHover}-hover`]: props.opacityHover !== void 0,\n    [`link-underline-${props.underlineVariant}`]: props.underlineVariant !== null,\n    [`link-offset-${props.underlineOffset}`]: props.underlineOffset !== void 0,\n    [`link-offset-${props.underlineOffsetHover}-hover`]: props.underlineOffsetHover !== void 0,\n    [\"link-underline\"]: props.underlineVariant === null && (props.underlineOpacity !== void 0 || props.underlineOpacityHover !== void 0),\n    [`link-underline-opacity-${props.underlineOpacity}`]: props.underlineOpacity !== void 0,\n    [`link-underline-opacity-${props.underlineOpacityHover}-hover`]: props.underlineOpacityHover !== void 0,\n    \"icon-link\": props.icon === true\n  };\n});\nconst defaultActiveClass = \"active\";\nconst _sfc_main = /* @__PURE__ */defineComponent({\n  __name: \"BLink\",\n  props: {\n    active: {\n      type: Boolean,\n      default: void 0\n    },\n    activeClass: {\n      default: \"router-link-active\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    exactActiveClass: {\n      default: \"router-link-exact-active\"\n    },\n    href: {\n      default: void 0\n    },\n    icon: {\n      type: Boolean,\n      default: false\n    },\n    noRel: {\n      type: Boolean\n    },\n    opacity: {\n      default: void 0\n    },\n    opacityHover: {\n      default: void 0\n    },\n    rel: {\n      default: void 0\n    },\n    replace: {\n      type: Boolean,\n      default: false\n    },\n    routerComponentName: {\n      default: \"router-link\"\n    },\n    routerTag: {\n      default: \"a\"\n    },\n    stretched: {\n      type: Boolean,\n      default: false\n    },\n    target: {\n      default: void 0\n    },\n    to: {\n      default: void 0\n    },\n    underlineOffset: {\n      default: void 0\n    },\n    underlineOffsetHover: {\n      default: void 0\n    },\n    underlineOpacity: {\n      default: void 0\n    },\n    underlineOpacityHover: {\n      default: void 0\n    },\n    underlineVariant: {\n      default: null\n    },\n    variant: {\n      default: null\n    }\n  },\n  emits: [\"click\"],\n  setup(__props, {\n    emit: __emit\n  }) {\n    const _props = __props;\n    const props = useDefaults(_props, \"BLink\");\n    const emit = __emit;\n    const attrs = useAttrs();\n    const collapseData = inject(collapseInjectionKey, null);\n    const navbarData = inject(navbarInjectionKey, null);\n    const instance = getCurrentInstance();\n    const tag = computed(() => {\n      const routerName = props.routerComponentName.split(\"-\").map(e => e.charAt(0).toUpperCase() + e.slice(1)).join(\"\");\n      const hasRouter = (instance == null ? void 0 : instance.appContext.app.component(routerName)) !== void 0;\n      if (!hasRouter || props.disabled || !props.to) {\n        return \"a\";\n      }\n      return props.routerComponentName;\n    });\n    const computedHref = computed(() => {\n      const toFallback = \"#\";\n      if (props.href) return props.href;\n      if (typeof props.to === \"string\") return props.to || toFallback;\n      const {\n        to\n      } = props;\n      if (to !== void 0 && \"path\" in to) {\n        const path = to.path || \"\";\n        const query = to.query ? `?${Object.keys(to.query).map(e => {\n          var _a;\n          return `${e}=${(_a = to.query) == null ? void 0 : _a[e]}`;\n        }).join(\"=\")}` : \"\";\n        const hash = !to.hash || to.hash.charAt(0) === \"#\" ? to.hash || \"\" : `#${to.hash}`;\n        return `${path}${query}${hash}` || toFallback;\n      }\n      return toFallback;\n    });\n    const linkValueClasses = useLinkClasses(props);\n    const computedClasses = computed(() => [linkValueClasses.value, {\n      \"stretched-link\": props.stretched === true\n    }]);\n    const routerAttr = computed(() => ({\n      \"class\": computedClasses.value,\n      \"to\": props.to,\n      \"replace\": props.replace,\n      \"href\": computedHref.value,\n      \"target\": props.target,\n      \"rel\": props.target === \"_blank\" ? props.rel ?? \"noopener\" : void 0,\n      \"tabindex\": props.disabled ? \"-1\" : typeof attrs.tabindex === \"undefined\" ? null : attrs.tabindex,\n      \"aria-disabled\": props.disabled ? true : null\n    }));\n    const computedLinkClasses = computed(() => ({\n      [defaultActiveClass]: props.active,\n      disabled: props.disabled\n    }));\n    const clicked = e => {\n      var _a, _b, _c;\n      if (props.disabled) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n        return;\n      }\n      if (((_a = collapseData == null ? void 0 : collapseData.isNav) == null ? void 0 : _a.value) === true && navbarData === null || navbarData !== null && ((_b = navbarData.autoClose) == null ? void 0 : _b.value) === true) {\n        (_c = collapseData == null ? void 0 : collapseData.hide) == null ? void 0 : _c.call(collapseData);\n      }\n      emit(\"click\", e);\n    };\n    return (_ctx, _cache) => {\n      return tag.value === \"router-link\" ? (openBlock(), createBlock(resolveDynamicComponent(tag.value), mergeProps({\n        key: 0\n      }, routerAttr.value, {\n        custom: \"\"\n      }), {\n        default: withCtx(({\n          href: localHref,\n          navigate,\n          isActive,\n          isExactActive\n        }) => [(openBlock(), createBlock(resolveDynamicComponent(unref(props).routerTag), mergeProps({\n          href: localHref,\n          target: unref(props).target,\n          class: {\n            [defaultActiveClass]: unref(props).active,\n            [unref(props).activeClass]: isActive,\n            [unref(props).exactActiveClass]: isExactActive\n          }\n        }, _ctx.$attrs, {\n          onClick: $event => {\n            [navigate($event), clicked($event)];\n          }\n        }), {\n          default: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n          _: 2\n        }, 1040, [\"href\", \"target\", \"class\", \"onClick\"]))]),\n        _: 3\n      }, 16)) : (openBlock(), createBlock(resolveDynamicComponent(tag.value), mergeProps({\n        key: 1,\n        class: computedLinkClasses.value\n      }, routerAttr.value, {\n        onClick: clicked\n      }), {\n        default: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n        _: 3\n      }, 16, [\"class\"]));\n    };\n  }\n});\nexport { _sfc_main as _, useLinkClasses as u };","map":{"version":3,"names":["useLinkClasses","linkProps","computed","props","toValue","variant","opacity","opacityHover","underlineVariant","underlineOffset","underlineOffsetHover","underlineOpacity","underlineOpacityHover","icon","defaultActiveClass","_props","__props","useDefaults","emit","__emit","attrs","useAttrs","collapseData","inject","collapseInjectionKey","navbarData","navbarInjectionKey","instance","getCurrentInstance","tag","routerName","routerComponentName","split","map","e","charAt","toUpperCase","slice","join","hasRouter","appContext","app","component","disabled","to","computedHref","toFallback","href","path","query","Object","keys","_a","hash","linkValueClasses","computedClasses","value","stretched","routerAttr","replace","target","rel","tabindex","computedLinkClasses","active","clicked","preventDefault","stopImmediatePropagation","isNav","_b","autoClose","_c","hide","call"],"sources":["../src/composables/useLinkClasses.ts","../src/components/BLink/BLink.vue"],"sourcesContent":["import {computed, type MaybeRefOrGetter, toValue} from 'vue'\nimport type {\n  LinkIconProps,\n  LinkOpacityProps,\n  LinkUnderlineProps,\n  LinkVariantProps,\n} from '../types/ComponentProps'\n\nexport const useLinkClasses = (\n  linkProps: MaybeRefOrGetter<\n    LinkUnderlineProps & LinkOpacityProps & LinkIconProps & LinkVariantProps\n  >\n) =>\n  computed(() => {\n    const props = toValue(linkProps)\n    return {\n      [`link-${props.variant}`]: props.variant !== null,\n      [`link-opacity-${props.opacity}`]: props.opacity !== undefined,\n      [`link-opacity-${props.opacityHover}-hover`]: props.opacityHover !== undefined,\n      [`link-underline-${props.underlineVariant}`]: props.underlineVariant !== null,\n      [`link-offset-${props.underlineOffset}`]: props.underlineOffset !== undefined,\n      [`link-offset-${props.underlineOffsetHover}-hover`]: props.underlineOffsetHover !== undefined,\n      ['link-underline']:\n        props.underlineVariant === null &&\n        (props.underlineOpacity !== undefined || props.underlineOpacityHover !== undefined),\n      [`link-underline-opacity-${props.underlineOpacity}`]: props.underlineOpacity !== undefined,\n      [`link-underline-opacity-${props.underlineOpacityHover}-hover`]:\n        props.underlineOpacityHover !== undefined,\n      'icon-link': props.icon === true,\n    }\n  })\n","<template>\n  <component\n    :is=\"tag\"\n    v-if=\"tag === 'router-link'\"\n    v-slot=\"//@ts-ignore \n    {href: localHref, navigate, isActive, isExactActive}\"\n    v-bind=\"routerAttr\"\n    custom\n  >\n    <component\n      :is=\"props.routerTag\"\n      :href=\"localHref\"\n      :target=\"props.target\"\n      :class=\"{\n        [defaultActiveClass]: props.active,\n        [props.activeClass]: isActive,\n        [props.exactActiveClass]: isExactActive,\n      }\"\n      v-bind=\"$attrs\"\n      @click=\";[navigate($event), clicked($event)]\"\n    >\n      <slot />\n    </component>\n  </component>\n  <component :is=\"tag\" v-else :class=\"computedLinkClasses\" v-bind=\"routerAttr\" @click=\"clicked\">\n    <slot />\n  </component>\n</template>\n\n<script setup lang=\"ts\">\nimport {useDefaults} from '../../composables/useDefaults'\nimport {useLinkClasses} from '../../composables/useLinkClasses'\nimport type {BLinkProps} from '../../types/ComponentProps'\nimport {collapseInjectionKey, navbarInjectionKey} from '../../utils/keys'\nimport {computed, getCurrentInstance, inject, useAttrs} from 'vue'\n\ndefineSlots<{\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  default?: (props: Record<string, never>) => any\n}>()\n\nconst _props = withDefaults(defineProps<BLinkProps>(), {\n  active: undefined,\n  activeClass: 'router-link-active',\n  disabled: false,\n  exactActiveClass: 'router-link-exact-active',\n  href: undefined,\n  icon: false,\n  opacity: undefined,\n  opacityHover: undefined,\n  // noPrefetch: {type: Boolean, default: false},\n  // prefetch: {type: Boolean, default: null},\n  rel: undefined,\n  replace: false,\n  routerComponentName: 'router-link',\n  routerTag: 'a',\n  stretched: false,\n  target: undefined,\n  to: undefined,\n  underlineOffset: undefined,\n  underlineOffsetHover: undefined,\n  underlineOpacity: undefined,\n  underlineOpacityHover: undefined,\n  underlineVariant: null,\n  variant: null,\n})\nconst props = useDefaults(_props, 'BLink')\n\nconst emit = defineEmits<{\n  click: [value: MouseEvent]\n}>()\n\nconst attrs = useAttrs()\n\nconst collapseData = inject(collapseInjectionKey, null)\nconst navbarData = inject(navbarInjectionKey, null)\n\nconst instance = getCurrentInstance()\n\nconst defaultActiveClass = 'active'\n\nconst tag = computed(() => {\n  const routerName = props.routerComponentName\n    .split('-')\n    .map((e) => e.charAt(0).toUpperCase() + e.slice(1))\n    .join('')\n  const hasRouter = instance?.appContext.app.component(routerName) !== undefined\n  if (!hasRouter || props.disabled || !props.to) {\n    return 'a'\n  }\n  return props.routerComponentName\n})\n\nconst computedHref = computed(() => {\n  const toFallback = '#'\n  if (props.href) return props.href\n\n  if (typeof props.to === 'string') return props.to || toFallback\n\n  const {to} = props\n\n  if (to !== undefined && 'path' in to) {\n    const path = to.path || ''\n    const query = to.query\n      ? `?${Object.keys(to.query)\n          .map((e) => `${e}=${to.query?.[e]}`)\n          .join('=')}`\n      : ''\n    const hash = !to.hash || to.hash.charAt(0) === '#' ? to.hash || '' : `#${to.hash}`\n    return `${path}${query}${hash}` || toFallback\n  }\n  // There is no resolver for `RouteLocationNamedRaw`. Which, I'm not sure there can be one in this context.\n\n  return toFallback\n})\n\n/**\n * Not to be confused with computedLinkClasses\n */\nconst linkValueClasses = useLinkClasses(props)\nconst computedClasses = computed(() => [\n  linkValueClasses.value,\n  {\n    'stretched-link': props.stretched === true,\n  },\n])\n\nconst routerAttr = computed(() => ({\n  'class': computedClasses.value,\n  'to': props.to,\n  'replace': props.replace,\n  'href': computedHref.value,\n  'target': props.target,\n  'rel': props.target === '_blank' ? (props.rel ?? 'noopener') : undefined,\n  'tabindex': props.disabled ? '-1' : typeof attrs.tabindex === 'undefined' ? null : attrs.tabindex,\n  'aria-disabled': props.disabled ? true : null,\n}))\n\nconst computedLinkClasses = computed(() => ({\n  [defaultActiveClass]: props.active,\n  disabled: props.disabled,\n}))\n\nconst clicked = (e: Readonly<MouseEvent>): void => {\n  if (props.disabled) {\n    e.preventDefault()\n    e.stopImmediatePropagation()\n    return\n  }\n\n  if (\n    (collapseData?.isNav?.value === true && navbarData === null) ||\n    (navbarData !== null && navbarData.autoClose?.value === true)\n  ) {\n    collapseData?.hide?.()\n  }\n\n  emit('click', e)\n}\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}